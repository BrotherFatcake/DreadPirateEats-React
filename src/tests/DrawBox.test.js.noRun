import React from 'react';
import { connect } from 'react-redux'

import { shallow, mount, render, configure } from 'enzyme';
import store from '../store';


import {DrawBox} from '../drawbox/drawbox'

import {editFavs} from '../actions/favActions'




describe('<DrawBox />', () => {


    const TEST_GRUBJOINTS = [
        {id: "5c2985f3c24ad70017da3cdc", restaurantYelpId: "XY2gaLVR4UPHb9n0qP_TqA", restaurantName: "Best Bison", restaurantAlias: "best-bison-omaha-3"},
        {id: "5c29860bc24ad70017da3cdd", restaurantYelpId: "rg941Qb9wA7_AM_TwO9OAg", restaurantName: "Dinosaur Bar-B-Que", restaurantAlias: "dinosaur-bar-b-que-stamford"},
        {id: "5c2985e5c24ad70017da3cdb", restaurantYelpId: "Xj8ve8_47C_1SDVN1cKIsg", restaurantName: "Sam & Gabe's", restaurantAlias: "sam-and-gabes-urbandale"}
    ]
    const TEST_MADEOFFERS = [
        {restaurantName: "Sam & Gabe's", restaurantAlias: "https://www.yelp.com/biz/sam-and-gabes-urbandale"}, 
        {restaurantName: "Best Bison", restaurantAlias: "https://www.yelp.com/biz/best-bison-omaha-3"}, 
        {restaurantName: "Dinosaur Bar-B-Que", restaurantAlias: "https://www.yelp.com/biz/dinosaur-bar-b-que-stamford"}
    ]

    const TEST_PUBLICSORT = ['rating', 'eview_count', 'distance']
    
    const TEST_HANGRYTAUNT = 'This is a hangry taunt!';

    
    it('render without crashing', () => {
        let hangryTaunt = TEST_HANGRYTAUNT;
        let grubJoints = TEST_GRUBJOINTS;
        let madeOffers = TEST_MADEOFFERS;
        let publicSort = TEST_PUBLICSORT;

        shallow(<DrawBox store={store} hangryTaunt={hangryTaunt} grubJoints={grubJoints} 
            madeOffers={madeOffers} publicSort={publicSort} />);
    })

    it('Displays the Hangry Taunt', () => {

        let hangryTaunt = TEST_HANGRYTAUNT;
        let grubJoints = TEST_GRUBJOINTS;
        let madeOffers = TEST_MADEOFFERS;
        let publicSort = TEST_PUBLICSORT;

        let wrapper = shallow(<DrawBox store={store} hangryTaunt={hangryTaunt} grubJoints={grubJoints} 
            madeOffers={madeOffers} publicSort={publicSort}  />)
        
        console.log('TEST_HANGRYTAUNT: ', hangryTaunt)
        console.log('wrapper: ', wrapper)
        
        expect(wrapper.contains(hangryTaunt)).toEqual(true)
    })

    it('Something with the DrawBox', () => {

        let grubJoints = TEST_GRUBJOINTS;
        let madeOffers = TEST_MADEOFFERS;
        let publicSort = TEST_PUBLICSORT;

        const dispatch = jest.fn();
        const wrapper = mount(<DrawBox dispatch={dispatch} grubJoints={grubJoints} 
            madeOffers={madeOffers} publicSort={publicSort}   />)

            expect(grubJoints.length).toEqual(grubJoints.length)
    })





})